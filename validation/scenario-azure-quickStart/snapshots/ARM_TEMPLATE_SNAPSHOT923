{
  "structure": "filesystem",
  "error": null,
  "reference": "master",
  "contentType": "json",
  "source": "gitConnectorAzureQuickStart",
  "paths": [
    "/quickstarts/microsoft.apimanagement/api-management-create-with-multiregion/azuredeploy.json",
    "/quickstarts/microsoft.apimanagement/api-management-create-with-multiregion/azuredeploy.parameters.us.json"
  ],
  "timestamp": 1642962902790,
  "queryuser": null,
  "checksum": "99914b932bd37a50b983c5e7c90ae93b",
  "node": {
    "masterSnapshotId": "ARM_TEMPLATE_SNAPSHOT",
    "type": "arm",
    "collection": "armtemplate",
    "paths": [
      "/quickstarts/microsoft.apimanagement/api-management-create-with-multiregion/azuredeploy.json",
      "/quickstarts/microsoft.apimanagement/api-management-create-with-multiregion/azuredeploy.parameters.us.json"
    ],
    "snapshotId": "ARM_TEMPLATE_SNAPSHOT923",
    "status": "active",
    "validate": true,
    "resourceTypes": [
      "microsoft.apimanagement/service"
    ]
  },
  "snapshotId": "ARM_TEMPLATE_SNAPSHOT923",
  "collection": "armtemplate",
  "json": {
    "contentVersion": "1.0.0.0",
    "metadata": {
      "_generator": {
        "name": "bicep",
        "version": "0.4.1008.15138",
        "templateHash": "10945314915065740179"
      }
    },
    "parameters": {
      "apiManagementServiceName": {
        "type": "string",
        "defaultValue": "[format('apiservice{0}', uniqueString(resourceGroup().id))]",
        "metadata": {
          "description": "Name of the API Management service."
        }
      },
      "publisherEmail": {
        "type": "string",
        "minLength": 1,
        "metadata": {
          "description": "The email address of the owner of the service"
        },
        "value": "email@example.com"
      },
      "publisherName": {
        "type": "string",
        "minLength": 1,
        "metadata": {
          "description": "The name of the owner of the service"
        },
        "value": "templateTest"
      },
      "skuCount": {
        "type": "int",
        "defaultValue": 1,
        "metadata": {
          "description": "The instance size of this API Management service."
        }
      },
      "location": {
        "type": "string",
        "defaultValue": "[resourceGroup().location]",
        "metadata": {
          "description": "Location of the primary region of API Management service."
        }
      },
      "additionalLocations": {
        "type": "array",
        "defaultValue": [
          "eastus",
          "westeurope"
        ],
        "metadata": {
          "description": "Additional Locations to setup the ApiManagement gateway."
        },
        "value": [
          "USGov Texas",
          "USGov Arizona"
        ]
      },
      "disableGatewayInAdditionalLocation": {
        "type": "bool",
        "defaultValue": false,
        "metadata": {
          "description": "Ability to enable/disable Gateway proxy in any region including primary region."
        }
      },
      "minApiVersionToAllowOnControlPlane": {
        "type": "string",
        "defaultValue": "2019-12-01",
        "allowedValues": [
          "2019-01-01",
          "2019-12-01",
          "2020-06-01-preview"
        ],
        "metadata": {
          "description": "Minimum Api-Version to allow on all clients to Control Plane to prevent users with read-only permissions from accessing service secrets."
        }
      }
    },
    "functions": [],
    "resources": [
      {
        "type": "Microsoft.ApiManagement/service",
        "apiVersion": "2020-12-01",
        "name": "[format('apiservice{0}', uniqueString(resourceGroup().id))]",
        "location": "[resourceGroup().location]",
        "sku": {
          "name": "Premium",
          "capacity": 1
        },
        "properties": {
          "copy": [
            {
              "name": "additionalLocations",
              "count": 33,
              "input": {
                "location": "additionalLocations)[copyIndex(additionalLocations",
                "sku": {
                  "name": "Premium",
                  "capacity": 1
                },
                "disableGateway": false
              }
            }
          ],
          "publisherEmail": "email@example.com",
          "publisherName": "templateTest",
          "apiVersionConstraint": {
            "minApiVersion": "2019-12-01"
          },
          "customProperties": {
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_GCM_SHA256": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA256": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA256": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30": "false",
            "Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2": "true"
          }
        }
      }
    ],
    "\uff04schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#"
  }
}