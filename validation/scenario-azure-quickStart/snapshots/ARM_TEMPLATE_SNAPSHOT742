{
  "structure": "filesystem",
  "error": null,
  "reference": "master",
  "contentType": "json",
  "source": "gitConnectorAzureQuickStart",
  "paths": [
    "/demos/nfs-ha-cluster-ubuntu/azuredeploy.json",
    "/demos/nfs-ha-cluster-ubuntu/azuredeploy.parameters.json"
  ],
  "timestamp": 1642962900579,
  "queryuser": null,
  "checksum": "99914b932bd37a50b983c5e7c90ae93b",
  "node": {
    "masterSnapshotId": "ARM_TEMPLATE_SNAPSHOT",
    "type": "arm",
    "collection": "armtemplate",
    "paths": [
      "/demos/nfs-ha-cluster-ubuntu/azuredeploy.json",
      "/demos/nfs-ha-cluster-ubuntu/azuredeploy.parameters.json"
    ],
    "snapshotId": "ARM_TEMPLATE_SNAPSHOT742",
    "status": "active",
    "validate": true,
    "resourceTypes": [
      "microsoft.resources/deployments"
    ]
  },
  "snapshotId": "ARM_TEMPLATE_SNAPSHOT742",
  "collection": "armtemplate",
  "json": {
    "contentVersion": "1.0.0.0",
    "parameters": {
      "_artifactsLocation": {
        "type": "string",
        "metadata": {
          "description": "The base URI where artifacts required by this template are located. When the template is deployed using the accompanying scripts, a private location in the subscription will be used and this value will be automatically generated."
        },
        "defaultValue": "[deployment().properties.templateLink.uri]"
      },
      "_artifactsLocationSasToken": {
        "type": "securestring",
        "metadata": {
          "description": "The sasToken required to access _artifactsLocation.  When the template is deployed using the accompanying scripts, a sasToken will be automatically generated."
        },
        "defaultValue": ""
      },
      "location": {
        "type": "string",
        "defaultValue": "[resourceGroup().location]",
        "metadata": {
          "description": "Azure location where this template is to be deployed"
        }
      },
      "subnetId": {
        "metadata": {
          "description": "Azure resource ID of the subnet where this NFS-HA cluster is to be deployed"
        },
        "type": "string",
        "value": "GET-PREREQ-subnetId"
      },
      "node0IPAddr": {
        "metadata": {
          "description": "IP address of node 0 (statically assigned). E.g., 10.0.0.11. Must belong to the IP range of the specified subnet"
        },
        "type": "string",
        "value": "GET-PREREQ-node0IPAddr"
      },
      "node1IPAddr": {
        "metadata": {
          "description": "IP address of node 1 (statically assigned). E.g., 10.0.0.22. Must belong to the IP range of the specified subnet"
        },
        "type": "string",
        "value": "GET-PREREQ-node1IPAddr"
      },
      "nfsClientsIPRange": {
        "metadata": {
          "description": "IP range of the allowed NFS clients. E.g., 10.0.0.0/24"
        },
        "type": "string",
        "value": "GET-PREREQ-nfsClientsIPRange"
      },
      "lbFrontEndIpAddr": {
        "metadata": {
          "description": "IP address of the load balancer front-end (statically assigned). E.g., 10.0.0.100. Must belong to the IP range of the specified subnet"
        },
        "type": "string",
        "value": "GET-PREREQ-lbFrontEndIpAddr"
      },
      "enableAccelNwSwitch": {
        "metadata": {
          "description": "Switch to enable Azure Accelerated Networking (Note: this feature is NOT available for D1-level VM SKU)"
        },
        "type": "bool",
        "defaultValue": false
      },
      "vmSku": {
        "metadata": {
          "description": "Azure VM SKU for the NFS HA VMs"
        },
        "type": "string",
        "defaultValue": "Standard_D2s_v3"
      },
      "adminUserName": {
        "metadata": {
          "description": "VM admin user name"
        },
        "type": "string",
        "defaultValue": "azureadmin"
      },
      "sshPublicKey": {
        "metadata": {
          "description": "SSH public key for the admin user"
        },
        "type": "string",
        "value": "GEN-SSH-PUB-KEY"
      },
      "osType": {
        "metadata": {
          "description": "OS type (offer/publisher/sku/version) info"
        },
        "type": "object",
        "defaultValue": {
          "offer": "UbuntuServer",
          "publisher": "Canonical",
          "sku": "16.04-LTS",
          "version": "latest"
        }
      },
      "osDiskStorageType": {
        "defaultValue": "Premium_LRS",
        "allowedValues": [
          "Premium_LRS",
          "Standard_LRS"
        ],
        "metadata": {
          "description": "Azure storage type for all VMs' OS disks. With htmlLocalCopySwith true, Premium_LRS (SSD) is strongly recommended, as PHP files will be served from OS disks."
        },
        "type": "string"
      },
      "dataDiskCountPerVM": {
        "metadata": {
          "description": "Number of data disks per VM. 2 or more disks will be configured as RAID0"
        },
        "defaultValue": 1,
        "minValue": 1,
        "maxValue": 8,
        "type": "int"
      },
      "dataDiskSizeInGB": {
        "defaultValue": 32,
        "metadata": {
          "description": "Size per disk in an NFS server"
        },
        "type": "int"
      },
      "resourcesUniqueString": {
        "metadata": {
          "description": "Unique string of fixed length (e.g., 6) identifying related resources"
        },
        "type": "string",
        "defaultValue": "[substring(uniqueString(resourceGroup().id, deployment().name), 3, 6)]"
      }
    },
    "resources": [
      {
        "type": "Microsoft.Resources/deployments",
        "apiVersion": "2020-06-01",
        "name": "pid-38a42e4d-89db-4159-9b75-9113b6eae9b6",
        "properties": {
          "mode": "Incremental",
          "template": {
            "contentVersion": "1.0.0.0",
            "resources": [],
            "\uff04schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#"
          }
        }
      },
      {
        "type": "Microsoft.Resources/deployments",
        "apiVersion": "2020-06-01",
        "name": "nfs-ha-deployment",
        "properties": {
          "mode": "Incremental",
          "parameters": {
            "_artifactsLocation": {
              "value": "[deployment().properties.templateLink.uri]"
            },
            "_artifactsLocationSasToken": {
              "value": ""
            },
            "location": {
              "value": "[resourceGroup().location]"
            },
            "subnetId": {
              "value": "GET-PREREQ-subnetId"
            },
            "node0IPAddr": {
              "value": "GET-PREREQ-node0IPAddr"
            },
            "node1IPAddr": {
              "value": "GET-PREREQ-node1IPAddr"
            },
            "nfsClientsIPRange": {
              "value": "GET-PREREQ-nfsClientsIPRange"
            },
            "lbFrontEndIpAddr": {
              "value": "GET-PREREQ-lbFrontEndIpAddr"
            },
            "enableAccelNwSwitch": {
              "value": false
            },
            "vmSku": {
              "value": "Standard_D2s_v3"
            },
            "adminUserName": {
              "value": "azureadmin"
            },
            "sshPublicKey": {
              "value": "GEN-SSH-PUB-KEY"
            },
            "osType": {
              "value": {
                "offer": "UbuntuServer",
                "publisher": "Canonical",
                "sku": "16.04-LTS",
                "version": "latest"
              }
            },
            "osDiskStorageType": {
              "value": "Premium_LRS"
            },
            "dataDiskCountPerVM": {
              "value": 1
            },
            "dataDiskSizeInGB": {
              "value": 32
            },
            "resourcesUniqueString": {
              "value": "[substring(uniqueString(resourceGroup().id, deployment().name), 3, 6)]"
            }
          },
          "templateLink": {
            "uri": "[uri(parameters('_artifactsLocation'), concat('nested/nfs-ha.json', parameters('_artifactsLocationSasToken')))]"
          }
        }
      }
    ],
    "\uff04schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#"
  }
}