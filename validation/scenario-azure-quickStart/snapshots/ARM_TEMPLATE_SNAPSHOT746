{
  "structure": "filesystem",
  "error": null,
  "reference": "master",
  "contentType": "json",
  "source": "gitConnectorAzureQuickStart",
  "paths": [
    "/demos/oms-all-deploy/nestedtemplates/omsWorkspace.json"
  ],
  "timestamp": 1642962900624,
  "queryuser": null,
  "checksum": "99914b932bd37a50b983c5e7c90ae93b",
  "node": {
    "masterSnapshotId": "ARM_TEMPLATE_SNAPSHOT",
    "type": "arm",
    "collection": "armtemplate",
    "paths": [
      "/demos/oms-all-deploy/nestedtemplates/omsWorkspace.json"
    ],
    "snapshotId": "ARM_TEMPLATE_SNAPSHOT746",
    "status": "active",
    "validate": true,
    "resourceTypes": [
      "microsoft.operationalinsights/workspaces",
      "microsoft.operationsmanagement/solutions"
    ]
  },
  "snapshotId": "ARM_TEMPLATE_SNAPSHOT746",
  "collection": "armtemplate",
  "json": {
    "contentVersion": "1.0.0.0",
    "parameters": {
      "omsWorkspaceName": {
        "type": "string",
        "metadata": {
          "description": "Assign a name for the Log Analytic Workspace Name"
        }
      },
      "location": {
        "type": "string",
        "metadata": {
          "description": "Specify the region for your Workspace"
        }
      }
    },
    "variables": {
      "batch1": {
        "solutions": [
          {
            "name": "Security(, parameters(omsWorkspaceName), )",
            "marketplaceName": "Security"
          },
          {
            "name": "AgentHealthAssessment(, parameters(omsWorkspaceName), )",
            "marketplaceName": "AgentHealthAssessment"
          },
          {
            "name": "ChangeTracking(, parameters(omsWorkspaceName), )",
            "marketplaceName": "ChangeTracking"
          },
          {
            "name": "Updates(, parameters(omsWorkspaceName), )",
            "marketplaceName": "Updates"
          },
          {
            "name": "AzureActivity(, parameters(omsWorkspaceName), )",
            "marketplaceName": "AzureActivity"
          },
          {
            "name": "AzureAutomation(, parameters(omsWorkspaceName), )",
            "marketplaceName": "AzureAutomation"
          },
          {
            "name": "ADAssessment(, parameters(omsWorkspaceName), )",
            "marketplaceName": "ADAssessment"
          },
          {
            "name": "SQLAssessment(, parameters(omsWorkspaceName), )",
            "marketplaceName": "SQLAssessment"
          }
        ]
      }
    },
    "resources": [
      {
        "apiVersion": "2020-08-01",
        "location": "location",
        "name": "omsWorkspaceName",
        "type": "Microsoft.OperationalInsights/workspaces",
        "comments": "Log Analytics workspace",
        "properties": {
          "sku": {
            "name": "pergb2018"
          },
          "retentionInDays": 180
        },
        "resources": [
          {
            "name": "AzureActivityLog",
            "type": "datasources",
            "apiVersion": "2015-11-01-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "AzureActivityLog",
            "properties": {
              "linkedResourceId": "[subscriptionResourceId('Microsoft.Insights/eventTypes', 'management')]"
            }
          },
          {
            "apiVersion": "2017-03-15-preview",
            "name": "omsWorkspaceName/HyperV1",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "HyperV",
              "displayName": "VMs created last 24 hours",
              "query": "Event | where EventLog == \"Microsoft-Windows-Hyper-V-VMMS-Admin\" and EventID == 13003 and EventLevelName =~ \"information\" and TimeGenerated > ago(1d)"
            }
          },
          {
            "apiVersion": "2017-03-15-preview",
            "name": "omsWorkspaceName/HyperV2",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "HyperV",
              "displayName": "VMs deleted last 24 hours",
              "Query": "Event | where EventLog == \"Microsoft-Windows-Hyper-V-VMMS-Admin\" and EventID == 13003 and EventLevelName =~ \"information\" and TimeGenerated > ago(1d)"
            }
          },
          {
            "apiVersion": "2017-03-15-preview",
            "name": "omsWorkspaceName/HyperV3",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "HyperV",
              "displayName": "Replication throughput per VM over last 24 hours",
              "query": "Perf | where ObjectName == \"Hyper-V Azure Replication Agent\" and CounterName == \"Replication Throughput\" and TimeGenerated > ago(1d) | summarize AggregatedValue = avg(CounterValue) by InstanceName, bin(TimeGenerated, 15m)"
            }
          },
          {
            "name": "omsWorkspaceName/SoftwareUpdateFailed1",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "apiVersion": "2017-03-15-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "Software Updates",
              "displayName": "Failed Software Updates in the last week",
              "query": "Event | where EventID == 20 and Source == \"Microsoft-Windows-WindowsUpdateClient\" and EventLog == \"System\" and TimeGenerated > ago(7d)"
            }
          },
          {
            "name": "omsWorkspaceName/Network1",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "apiVersion": "2017-03-15-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "Networking",
              "displayName": "NICs disconnected from the network in last 24 hours",
              "query": "Event | where EventLog == \"System\" and Source == \"TCPIP\" and EventID == 4202 and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer"
            }
          },
          {
            "name": "omsWorkspaceName/Network2",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "apiVersion": "2017-03-15-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "Networking",
              "displayName": "Duplicate IP addresses detected in the last 24 hours",
              "query": "Event | where (EventID == 4198 or EventID == 4199) and Source == \"TCPIP\" and EventLog == \"System\" and TimeGenerated > ago(24h)"
            }
          },
          {
            "name": "omsWorkspaceName/NTFS1",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "apiVersion": "2017-03-15-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "NTFS",
              "displayName": "NTFS File System Corruption in the last 24 hours",
              "query": "Event | where EventLog == \"System\" and EventID == 98 and Source =~ \"Microsoft-Windows-Ntfs\" and TimeGenerated > ago(1d) | summarize AggregatedValue = count() by Computer"
            }
          },
          {
            "name": "omsWorkspaceName/NTFS2",
            "type": "Microsoft.OperationalInsights/workspaces/savedSearches",
            "apiVersion": "2017-03-15-preview",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "properties": {
              "ETag": "*",
              "category": "NTFS",
              "displayName": "NTFS User Disk Quota Reached",
              "query": "Event | where EventLog == \"System\" and (EventID == 40 or EventID == 36) and Source =~ \"Disk\" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk1",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Avg Disk sec/Read"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk2",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Avg Disk sec/Write"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk3",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Current Disk Queue Length"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk4",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Disk Reads/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk5",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Disk Transfers/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk6",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Disk Writes/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk7",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Free Megabytes"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LogicalDisk8",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "LogicalDisk",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "% Free Space"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Memory1",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Memory",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Available MBytes"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Memory2",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Memory",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "% Committed Bytes In Use"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Network1",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Network Adapter",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Bytes Received/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Network2",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Network Adapter",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Bytes Sent/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Network3",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Network Adapter",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Bytes Total/sec"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "CPU1",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Processor",
              "instanceName": "_Total",
              "intervalSeconds": 10,
              "counterName": "% Processor Time"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "CPU2",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "System",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Processor Queue Lenght"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "System",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsEvent",
            "properties": {
              "eventLogName": "System",
              "eventTypes": [
                {
                  "eventType": "Error"
                },
                {
                  "eventType": "Warning"
                }
              ]
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Application",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsEvent",
            "properties": {
              "eventLogName": "Application",
              "eventTypes": [
                {
                  "eventType": "Error"
                },
                {
                  "eventType": "Warning"
                }
              ]
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Microsoft-Windows-Hyper-V-VMMS-Admin",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsEvent",
            "properties": {
              "eventLogName": "Microsoft-Windows-Hyper-V-VMMS-Admin",
              "eventTypes": [
                {
                  "eventType": "Error"
                },
                {
                  "eventType": "Warning"
                },
                {
                  "eventType": "Information"
                }
              ]
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent1",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Average Replication Size"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent2",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Replication Throughput"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent3",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Network Send Throughput"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent4",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Replication Count"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent5",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Network Bytes Sent"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent6",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Last Replication Size"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Hyper-VAzureReplicationAgent7",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "WindowsPerformanceCounter",
            "properties": {
              "objectName": "Hyper-V Azure Replication Agent",
              "instanceName": "*",
              "intervalSeconds": 10,
              "counterName": "Resynchronized Bytes"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Linux",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "LinuxPerformanceObject",
            "properties": {
              "performanceCounters": [
                {
                  "counterName": "% Used Inodes"
                },
                {
                  "counterName": "Free Megabytes"
                },
                {
                  "counterName": "% Used Space"
                },
                {
                  "counterName": "Disk Transfers/sec"
                },
                {
                  "counterName": "Disk Reads/sec"
                },
                {
                  "counterName": "Disk Writes/sec"
                }
              ],
              "objectName": "Logical Disk",
              "instanceName": "*",
              "intervalSeconds": 10
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "LinuxPerfCollection",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "LinuxPerformanceCollection",
            "properties": {
              "state": "Enabled"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "IISLog",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "IISLogs",
            "properties": {
              "state": "OnPremiseEnabled"
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "Syslog",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "LinuxSyslog",
            "properties": {
              "syslogName": "kern",
              "syslogSeverities": [
                {
                  "severity": "emerg"
                },
                {
                  "severity": "alert"
                },
                {
                  "severity": "crit"
                },
                {
                  "severity": "err"
                },
                {
                  "severity": "warning"
                }
              ]
            }
          },
          {
            "apiVersion": "2015-11-01-preview",
            "type": "datasources",
            "name": "SyslogCollection",
            "dependsOn": [
              "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
            ],
            "kind": "LinuxSyslogCollection",
            "properties": {
              "state": "Enabled"
            }
          }
        ]
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      },
      {
        "apiVersion": "2015-11-01-preview",
        "type": "Microsoft.OperationsManagement/solutions",
        "name": "[concat(variables('batch1').solutions[copyIndex()].Name)]",
        "location": "location",
        "dependsOn": [
          "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        ],
        "properties": {
          "workspaceResourceId": "Microsoft.OperationalInsights/workspaces/omsWorkspaceName"
        },
        "plan": {
          "name": "(batch1).solutions[copyIndex()].name",
          "product": "[concat('OMSGallery/', variables('batch1').solutions[copyIndex()].marketplaceName)]",
          "promotionCode": "",
          "publisher": "Microsoft"
        }
      }
    ],
    "\uff04schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#"
  }
}